!function r(o,l,s){function c(t,e){if(!l[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var a=l[t]={exports:{}};o[t][0].call(a.exports,function(e){return c(o[t][1][e]||e)},a,a.exports,r,o,l,s)}return l[t].exports}for(var u="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,t,n){"use strict";var a=i(e("./modules/GenerateHTML")),r=i(e("./modules/Cookies"));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),""==document.cookie&&r.default.createEmptyTable(),this.imageList=["url('pics/currents.jpg')","url('pics/mgmt.jpg')","url('pics/joywave.jpg')","url('pics/lowhum.jpg')"],this.generator=new a.default(this.imageList)}var t,n,i;return t=e,(n=[{key:"initialize",value:function(){this.generator.cyk()}}])&&o(t.prototype,n),i&&o(t,i),e}())).initialize()},{"./modules/Cookies":2,"./modules/GenerateHTML":3}],2:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l)}var e,t,n;return e=l,n=[{key:"addCookie",value:function(e,t,n){n=n.toString()[0];for(var i=l.returnTimes()[n],a=11,r=0;r<i.length;r++)if(e<i[r].time){a=r+1;break}if(11!=a)for(var o=i.length;a<=o;o--)document.cookie=o==a?"".concat(n,"-").concat(o,"=").concat(t,",").concat(e,"; expires=Thu, 31 Dec 2050 12:00:00 UTC; path=/"):"".concat(n,"-").concat(o,"=").concat(i[o-2].name,",").concat(i[o-2].time,"; expires=Thu, 31 Dec 2050 12:00:00 UTC; path=/ ");this.timesObj=l.returnTimes()}},{key:"createEmptyTable",value:function(){for(var e=3;e<=6;e++)for(var t=1;t<=10;t++)document.cookie="".concat(e,"-").concat(t,"=,359999999 ; expires=Thu, 31 Dec 2050 12:00:00 UTC; path=/")}},{key:"returnTimes",value:function(){""==document.cookie&&this.createEmptyTable();var r={3:[],4:[],5:[],6:[]};decodeURIComponent(document.cookie).split(";").forEach(function(e){var t=(e=e.replace(" ",""))[0],n=e.split("=")[1],i=n.split(",")[0],a=n.split(",")[1];r[t].push({name:i,time:a})});for(var e=3;e<=6;e++)r[e].sort(function(e,t){return e.time-t.time});return this.timesObj=r}}],(t=[{key:"getCookie",value:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),i=0;i<n.length;i++){for(var a=n[i];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""}}])&&i(e.prototype,t),n&&i(e,n),l}();n.default=a},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("./Image")),l=i(e("./Time")),s=i(e("./Cookies"));function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.imageList=e,this.timeClass=new l.default,this.imageClass=new a.default(e)}var e,n,i;return e=t,i=[{key:"showBestTimes",value:function(e){var o=document.querySelector("#recordsTable");o.innerHTML=null,document.querySelector(".records-text").textContent="Top 10 wyników dla trybu ".concat(e,"x").concat(e);var t=s.default.returnTimes()[e],n=document.createElement("tr"),i=document.createElement("th");i.textContent="miejsce";var a=document.createElement("th");a.textContent="nick";var r=document.createElement("th");r.textContent="czas",n.appendChild(i),n.appendChild(a),n.appendChild(r),o.appendChild(n),t.forEach(function(e,t){var n=document.createElement("tr"),i=document.createElement("td");i.textContent=t+1+".";var a=document.createElement("td");a.textContent=e.name;var r=document.createElement("td");r.textContent=l.default.formatTime(e.time),n.appendChild(i),n.appendChild(a),n.appendChild(r),o.appendChild(n)}),document.querySelector("#recordsWrapper").appendChild(o)}}],(n=[{key:"cyk",value:function(){var n=this,i=function(e){return document.createElement(e)},e=i("div");e.id="main";var t=i("div");t.id="imageSelect";var a=i("div");a.classList.add("thumb-container");for(var r=0;r<this.imageList.length;r++){var o=i("div");o.style.backgroundImage=this.imageList[r],o.classList.add("thumbnail"),0===r&&o.classList.add("active"),a.appendChild(o)}var l=i("i");l.classList.add("selectArrow","fas","fa-arrow-left"),l.addEventListener("click",function(){n.imageClass.changeImage("left")});var s=i("i");s.classList.add("selectArrow","fas","fa-arrow-right"),s.addEventListener("click",function(){n.imageClass.changeImage("right")}),t.appendChild(l),t.appendChild(a),t.appendChild(s),e.appendChild(t);var c=i("div");c.id="sizeSelect";for(var u=function(e){var t=i("button");t.innerText="".concat(e,"x").concat(e),t.value=e,t.addEventListener("click",function(){n.imageClass.splitImage(e),n.imageClass.shiftBoard()}),c.appendChild(t)},d=3;d<7;d++)u(d);e.appendChild(c);var f=i("div");f.id="timer",e.appendChild(f);var m=i("div");m.id="gameBoard",m.style.display="flex",m.style.flexFlow="row wrap",e.appendChild(m);var p=i("div");p.id="recordsWrapper";var v=i("p");v.classList.add("records-text");var h=i("table");h.id="recordsTable",p.appendChild(v),p.appendChild(h),e.appendChild(p),document.body.appendChild(e)}}])&&r(e.prototype,n),i&&r(e,i),t}();n.default=o},{"./Cookies":2,"./Image":4,"./Time":5}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("./Time")),p=i(e("./Cookies")),v=i(e("./GenerateHTML"));function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.imageList=e,this.index=0,this.splitSize=null,this.oldTime=new a.default,this.swapHandlerBound=this.swapHandler.bind(this)}var e,n,i;return e=t,(n=[{key:"changeImage",value:function(e){var n=document.querySelector(".thumb-container"),t=Object.values(document.querySelectorAll(".thumbnail")),i=t.length,a=document.querySelector(".thumbnail.active"),r=t.findIndex(function(e){return e==a}),o=function(e){for(var t=1;t<=120;t++)setTimeout(function(){e?n.scrollLeft--:n.scrollLeft++},3*t)};a.classList.remove("active"),"left"===e?(0===r&&(a.before(t[i-1]),n.scrollLeft+=120),a.previousSibling.classList.add("active"),o(!0)):"right"===e?(r===i-1&&(a.after(t[0]),n.scrollLeft-=120),a.nextSibling.classList.add("active"),o(!1)):console.warn("źle podany kierunek")}},{key:"checkIfWon",value:function(){var t=this,e=Object.values(document.querySelectorAll(".square")),n=!0;if(e.forEach(function(e,t){e.attributes["data-order"].value!=t&&(n=!1)}),n){var i=this.oldTime.returnTime(),a=this.oldTime.returnMs();console.log(i),this.oldTime.stopTimer();var r=document.createElement("div");r.id="finishPopup",r.style.top=document.scrollingElement.scrollTop+"px";var o=document.createElement("div");o.id="finishInfo";var l=document.createElement("p");l.textContent="Wygrałeś!";var s=document.createElement("p");s.textContent="Twój czas to "+i;var c=document.createElement("label");c.id="inputLabel";var u=document.createElement("p");u.textContent="Podaj swój nick!";var d=document.createElement("input");d.setAttribute("type","text"),d.setAttribute("id","nickInput"),c.appendChild(u),c.appendChild(d);var f=document.createElement("a");f.classList.add("restart-btn"),f.textContent="Spróbuj jeszcze raz!";var m=function(){var e=document.querySelector("#nickInput").value;""==e&&(e="anonim"),p.default.addCookie(a,e,t.splitSize),document.getElementById("gameBoard").innerHTML=null,document.getElementById("timer").innerHTML=null,document.getElementById("finishPopup").remove(),v.default.showBestTimes(t.splitSize),document.getElementById("gameBoard").removeEventListener("click",t.swapHandlerBound,!0),document.body.style.overflow="initial"};f.addEventListener("click",m),d.addEventListener("keyup",function(e){if(e.preventDefault(),13==e.keyCode)return m()}),o.appendChild(l),o.appendChild(s),o.appendChild(c),o.appendChild(f),r.appendChild(o),document.body.appendChild(r),document.body.style.overflow="hidden"}}},{key:"swapHandler",value:function(t){for(var e,n=Object.values(document.getElementsByClassName("square")),i=n.findIndex(function(e){return e==t.target}),a=0;a<n.length;a++)n[a].classList.remove("new-line","end-line"),a%this.splitSize==0?n[a].classList.add("new-line"):a%this.splitSize==this.splitSize-1&&n[a].classList.add("end-line");if(null!=n[i-1]&&n[i-1].classList.contains("empty-space")&&!t.target.classList.contains("new-line")&&(e=n[i-1]),null!=n[i+1]&&n[i+1].classList.contains("empty-space")&&!t.target.classList.contains("end-line")&&(e=n[i+1]),null!=n[i-this.splitSize]&&n[i-this.splitSize].classList.contains("empty-space")&&(e=n[i-this.splitSize]),null!=n[i+this.splitSize]&&n[i+this.splitSize].classList.contains("empty-space")&&(e=n[i+this.splitSize]),null!=e){var r=t.currentTarget,o=t.target.cloneNode(),l=e.cloneNode();r.replaceChild(l,t.target),r.replaceChild(o,e)}this.checkIfWon()}},{key:"splitImage",value:function(e){this.splitSize=e;for(var t=document.getElementById("gameBoard");t.firstChild;)t.removeChild(t.firstChild);for(var n=t.clientWidth/e,i=document.querySelector(".thumbnail.active").style.backgroundImage,a=0;a<e;a++)for(var r=0;r<e;r++){var o=document.createElement("div");o.style.width="".concat(n,"px"),o.style.height="".concat(n,"px"),o.classList.add("square"),o.setAttribute("data-order",r+a*e),a==e-1&&r==e-1?(o.classList.add("empty-space"),o.style.background="#000"):(o.classList.add("split-image"),o.style.backgroundImage=i,o.style.backgroundPosition="".concat(-1*r*n,"px ").concat(-1*a*n,"px"),o.style.cursor="pointer"),t.appendChild(o)}t.addEventListener("click",this.swapHandlerBound,!0)}},{key:"shiftBoard",value:function(){for(var d=this,f=document.getElementById("gameBoard"),e=function(){for(var e=document.getElementsByClassName("square"),t=Object.values(e),n=0;n<t.length;n++)t[n].classList.remove("new-line","end-line"),n%d.splitSize==0?t[n].classList.add("new-line"):n%d.splitSize==d.splitSize-1&&t[n].classList.add("end-line");var i,a,r,o=t.findIndex(function(e){return e.classList.contains("empty-space")}),l=(r=[],null==(i=t)[(a=o)-1]||i[a-1].classList.contains("end-line")||r.push(i[a-1]),null==i[a+1]||i[a+1].classList.contains("new-line")||r.push(i[a+1]),null!=i[a-d.splitSize]&&r.push(i[a-d.splitSize]),null!=i[a+d.splitSize]&&r.push(i[a+d.splitSize]),r),s=Math.floor(Math.random()*l.length),c=t[o].cloneNode(),u=l[s].cloneNode();f.replaceChild(c,l[s]),f.replaceChild(u,t[o])},t=1;t<=3;t++)setTimeout(function(){e()},10*t),3===t&&function(){d.oldTime.stopTimer();var e=new a.default;setTimeout(function(){e.startTimer(),d.oldTime=e},10*t+1)}();v.default.showBestTimes(this.splitSize)}}])&&r(e.prototype,n),i&&r(e,i),t}();n.default=o},{"./Cookies":2,"./GenerateHTML":3,"./Time":5}],5:[function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i)}var e,t,n;return e=i,n=[{key:"formatTime",value:function(e){for(var t=function(e){return 2!=e.toString().length&&(e="0"+e),e},n=Math.floor(e%864e5/36e5),i=Math.floor(e%864e5%36e5/6e4),a=Math.floor(e%864e5%36e5%6e4/1e3),r=e%1e3;3!=r.toString().length;)r="0"+r;return t(n)+":"+t(i)+":"+t(a)+"."+r}}],(t=[{key:"returnTime",value:function(){return this.formattedTime}},{key:"returnMs",value:function(){return this.difference}},{key:"startTimer",value:function(){var t=this;this.timerDiv=document.getElementById("timer");var n=(new Date).getTime();this.interval=setInterval(function(){var e=(new Date).getTime()-n;t.difference=e,t.formattedTime=i.formatTime(e),t.timerDiv.innerHTML=t.numbersToImages(t.formattedTime)},1)}},{key:"numbersToImages",value:function(e){var t=e.split("").map(function(e){var t=parseInt(e),n=e.toString();if(1==isNaN(t))if(":"==e)n="colon";else{if("."!=e)return;n="dot"}else n="c"+e;return'<img src="pics/cyferki/'.concat(n,'.gif" alt=""/>')});return t=t.join("")}},{key:"stopTimer",value:function(){clearInterval(this.interval)}}])&&a(e.prototype,t),n&&a(e,n),i}();n.default=i},{}]},{},[1]);